kind: pipeline
type: docker
name: default

platform:
  os: linux
  arch: amd64

workspace:
  path: /usr/local/app

steps:
- name: build
  image: golang:1.13.7
  commands:
  - go test ./...
  - go build
- name: notify
  image: plugins/slack
  settings:
    webhook: https://hooks.slack.com/services/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 
    channel: website
  when:
    status:
    - failure
    - success

trigger:
  branch:
  - master
  event:
  - push
  - pull_request
